{% extends 'base2.html' %}
{% load static %}

{% block css %}
<!-- Calendar CSS -->
<link href="{% static "assets/plugins/calendar/dist/fullcalendar.css" %}" rel="stylesheet" />
<link href="{% static "assets/plugins/select2/dist/css/select2.css" %}" rel="stylesheet" type="text/css" />
<link href="{% static "assets/plugins/bootstrap-select/bootstrap-select.min.css" %}" rel="stylesheet" />
<!-- Page plugins css -->
<link href="{% static "assets/plugins/clockpicker/dist/jquery-clockpicker.min.css" %}" rel="stylesheet">
<!-- Date picker plugins css -->
<link href="{% static "assets/plugins/bootstrap-datepicker/bootstrap-datepicker.min.css" %}" rel="stylesheet" type="text/css" />
{% endblock %}
{% block contenido %}
<div class="row">
  <div class="col-md-4">
      <div class="card m-b-5">
          <div class="card-body">
              <div class="row">
                <div class="col-md-12">
                    <form id="form-agenda" action="{% url 'agenda-registrar' %}" method="post">
                        {% csrf_token %}
                        <div class="hide">
                            {{ form.ddc1 }}
                            {{ form.idc1 }}
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <small>Paciente</small>
                                {{ form.paciente }}
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <small>Fecha</small>
                                {{ form.fecha}}
                            </div>
                            <div class="col-md-6">
                                <small>Prioridad</small>
                                {{ form.prioridad}}
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <small>Hora</small>
                                {{ form.hora_inicio}}
                            </div>
                            <div class="col-md-6">
                                <small>Tipo de Paciente</small>
                                {{ form.tipo}}
                            </div>
                        </div>
                        <div class="row seguro-seleccion">
                            <div class="col-md-6">
                                <small>Matricula</small>
                                {{ form.matricula}}
                            </div>
                            <div class="col-md-6">
                                <small>Tipo de Beneficiario</small>
                                {{ form.tipo_beneficiario}}
                            </div>
                        </div>
                        <div class="row seguro-seleccion">
                            <div class="col-md-12">
                                <small>Caja</small>
                                {{ form.seguro }}
                            </div>
                        </div>
                        {{ agendaserv.management_form }}

                        {% for form in agendaserv.forms %}
                            <div class="row">
                                <div class="col-md-12">
                                <small>Tipo de Servicio</small>
                                {{ form.visible_fields.0 }}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <small>Costo</small>

                                    {{ form.visible_fields.1 }}
                                </div>
                                <div class="col-md-4 p-t-30">
                                    {{ form.visible_fields.3 }}
                                    <label for="id_agendaserv-0-descuento" class="form-control-sm fixmt4 m-b-0"><small>Descuento</small></label>
                                </div>
                                <div class="col-md-4 p-t-30">
                                    {{ form.visible_fields.2 }}
                                    <label for="id_agendaserv-0-estado" class="form-control-sm fixmt4 m-b-0 hide"><small>Cancelado</small></label>
                                </div>
                            </div>
                        {% endfor %}
                        <div class="row">
                            <div class="col-md-6">
                                <button id="controlagenda" class="btn btn-agenda btn-block waves-effect waves-light m-t-10 text-white">Control</button>
                            </div>          
                            <div class="col-md-6">
                                <button class="btn m-t-10 btn-success btn-block waves-effect waves-light" type="submit"> Agendar</button>
                            </div>          
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <button data-toggle="modal" data-target="#responsive-modal" id="registro-paciente" class="btn m-t-10 btn-info btn-block waves-effect waves-light" type="button">Nuevo Paciente</button>
                                
                            </div>
                        </div>
                    </form>
                </div>
              </div>
          </div>
      </div>
      <div class="card">
          <div class="card-body">
                <div class="row">
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-md-6"><h3><strong>TOTAL:</strong></h3></div>
                            <div class="col-md-6 text-right"><h3 id="sis_total"><strong>0 Bs.</strong></h4></div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-md-4">
                                <a onclick="imprimirlista(event, this);" href="{% url 'reportemov' %}" class="btn m-t-20 btn-inverse btn-block waves-effect waves-light"><i class="fa fa-print"></i></a>
                            </div>          
                            <div class="col-md-4">
                                <button class="btn m-t-20 btn-danger btn-block waves-effect waves-light"><i class="ti-money"></i></button>
                            </div> 
                            <div class="col-md-4">
                                <a href="{% url 'index' %}" class="btn m-t-20 btn-warning btn-block waves-effect waves-light"><i class="ti-back-left"></i></a>
                            </div>          
                        </div>
                    </div>
              </div>
          </div>
      </div>
  </div>
  <div class="col-md-8">
      <div class="card m-b-5">
          <div class="card-body">
              <div id="calendar"></div>
          </div>
      </div>
  </div>
</div>
{% endblock %}

{% block js %}
<!-- Calendar JavaScript -->
    <script src="{% static "assets/plugins/calendar/jquery-ui.min.js" %}"></script>
    <script src="{% static "assets/plugins/moment/moment.js" %} "></script>
    <script src="{% static "assets/plugins/calendar/dist/fullcalendar.min.js" %}"></script>
    <script src="{% static "assets/plugins/calendar/dist/locale/es.js" %}"></script>
    <script src="{% static "assets/plugins/select2/dist/js/select2.js" %}" type="text/javascript"></script>
    <script src="{% static "assets/plugins/select2/dist/js/i18n/es.js" %}" type="text/javascript"></script>
    <script src="{% static "assets/plugins/bootstrap-select/bootstrap-select.min.js" %}" type="text/javascript"></script>
    <!-- Clock Plugin JavaScript -->
    <script src="{% static "assets/plugins/clockpicker/dist/jquery-clockpicker.min.js" %}"></script>
    <!-- Date Picker Plugin JavaScript -->
    <script src="{% static "assets/plugins/bootstrap-datepicker/bootstrap-datepicker.min.js" %}"></script>
    <script src="{% static "assets/plugins/bootstrap-datepicker/dist/es.js" %}"></script>
    <script src="{% static "assets/paginas/agenda/agenda-index.js" %}"></script>
{% endblock %}